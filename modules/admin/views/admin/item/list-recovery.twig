{% extends interface_template|default("admin/shared/interface.twig") %}

{% import _self as this %}

{% block html_title %}{{ plural }} List : {{ admin_title }}{% endblock %}

{% block main_pane %}
    
    {% include 'admin/shared/alert.twig' %}
    
    <div class="inner">
        <h2 class="main-heading"><i class="icon-{{ icon }}"></i> {{ plural }} ({{ rows|length }}) <span>Deleted Items<span></h2>
        <div class="clearfix"></div>
        {% if pagination %}
            <div class="pagination">
                {{pagination}}
            </div>
        {% endif %}
        {% if tabs|length > 1 %}
        <ul class="nav nav-pills">
            {% for tab_id, tab in tabs %}
            <li class="{{ current_tab == tab_id ? 'active' : '' }}"><a href="/admin/{{ table_name }}{{ loop.first ? '' : '/'~tab_id }}">{{ tab.title }}</a></li>
            {% endfor %}
        </ul>
        {% endif %}
        <div class="clear"></div>

        <div class="item-list">

            <div class="row-fluid">
        
                <table class="table table-striped table-bordered selectable fixed-head table-hover{{ sortable ? ' sortable' : '' }}{{ sort_process ? ' sort-process' : '' }}">
                    
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th class="actions"></th>
                        </tr>
                    </thead>
                    
                    <tbody>
                        {% for row in rows %}
                            <tr>
                                <td>{{row.display()}}</td>
                                <td class="actions"><span>     
                                    <form action="/admin/{{table_name}}/recover" method="post"><input name="recover_id" type="hidden" value="{{ row.get('id') }}" /><input type="submit" name="recover_model" class="btn btn-warning btn-small" value="Recover"/></form>
                                </span></td> 
                            </tr>
                        {% else %}
                            <tr>
                                <td class="no-items" colspan="{{ columns|length + 1 }}">                              
                                    <p>No Recoverable {{ plural|lower }} were found.</p>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
        
            </div> <!-- .row-fluid -->
        
        </div> <!-- .item-list -->
        
    </div> <!-- .inner -->
    
{% endblock %}

{% block bottom %}
    
    <div id="controls-fixed-bot"><div class="inner">
        
        <div class="status pull-left">
            <!-- span>Page rendered in {exec_time}s using {mem_usage}mb of memory.</span -->
        </div>
        

        <!-- div class="pagination pull-left">
            <ul>
                <li class="disabled"><a href="#">&laquo;</a></li>
                <li class="active"><a href="#">1</a></li>
                <li><a href="#">2</a></li>
                <li><a href="#">3</a></li>
                <li><a href="#">4</a></li>
                <li><a href="#">&raquo;</a></li>
            </ul>
            <ul>
                <li><a href="#"><i class="icon-list"></i> View all</a></li>
            </ul>
            <div class="clear"></div>
        </div -->
        
        {% if user.super_user %}
            <a href="/admin/{{ table_name }}/saveall" class="btn btn-large btn-info">Save All</a>
        {% endif %}
        
        {% if can_create %}
        <div class="actions pull-right">
            <a href="/admin/{{ table_name }}/create" class="btn btn-large btn-primary"><i class="icon-plus icon-white"></i> Add New {{ singular }}...</a>
        </div>
        {% endif %}
        
        <div class="clear"></div>

    </div></div>
    
{% endblock %}

{% block breadcrumb %}

<li><a href="{{ base_url }}">{{ dashboard_title }}</a> <span class="divider">/</span></li>
<li class="active">{{ plural }}</li>

{% endblock %}
